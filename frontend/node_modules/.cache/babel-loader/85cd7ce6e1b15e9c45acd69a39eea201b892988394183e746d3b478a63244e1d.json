{"ast":null,"code":"var _jsxFileName = \"/Users/parhamgolmohammadi/Sales/frontend/src/component/OrderDetailPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst OrderDetailPage = ({\n  orderId,\n  onOrderUpdated\n}) => {\n  _s();\n  var _order$customer;\n  const [order, setOrder] = useState(null);\n  const [items, setItems] = useState([]);\n  const [editMode, setEditMode] = useState(false);\n  const [customerComment, setCustomerComment] = useState(\"\");\n  const [approvalDecision, setApprovalDecision] = useState(\"approve\");\n  const [rejectionReason, setRejectionReason] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [invoice, setInvoice] = useState(null);\n  const [error, setError] = useState(\"\");\n\n  // Fetch order details\n  useEffect(() => {\n    setLoading(true);\n    axios.get(`/api/orders/${orderId}/`).then(res => {\n      setOrder(res.data);\n      setCustomerComment(res.data.customer_comment || \"\");\n      setItems(res.data.items || []);\n      setInvoice(res.data.invoice || null);\n      setLoading(false);\n    }).catch(() => {\n      setError(\"Failed to load order.\");\n      setLoading(false);\n    });\n  }, [orderId]);\n\n  // Edit customer comment\n  const handleEditSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n    axios.patch(`/api/orders/${orderId}/`, {\n      customer_comment: customerComment\n    }).then(res => {\n      setOrder(res.data);\n      setEditMode(false);\n      setLoading(false);\n      if (onOrderUpdated) onOrderUpdated();\n    }).catch(() => {\n      setError(\"Failed to update comment.\");\n      setLoading(false);\n    });\n  };\n\n  // Approve/reject pricing\n  const handleApproval = e => {\n    e.preventDefault();\n    setLoading(true);\n    axios.post(`/api/orders/${orderId}/customer_approval/`, {\n      decision: approvalDecision,\n      rejection_reason: rejectionReason\n    }).then(res => {\n      setOrder(res.data);\n      setLoading(false);\n      if (onOrderUpdated) onOrderUpdated();\n    }).catch(() => {\n      setError(\"Failed to submit response.\");\n      setLoading(false);\n    });\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      color: \"red\"\n    },\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 23\n  }, this);\n  if (!order) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Order not found.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 24\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Order #\", order.id]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: \"1px solid #ccc\",\n        padding: 16,\n        marginBottom: 24\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Your Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Customer:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), \" \", order.customer_name || ((_order$customer = order.customer) === null || _order$customer === void 0 ? void 0 : _order$customer.name)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Created:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), \" \", new Date(order.created_at).toLocaleString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Status:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this), \" \", order.status]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Comment:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), editMode ? /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleEditSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: customerComment,\n            onChange: e => setCustomerComment(e.target.value),\n            rows: 3,\n            style: {\n              width: \"100%\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: loading,\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setEditMode(false),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              marginLeft: 8\n            },\n            children: order.customer_comment\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 29\n          }, this), [\"pending_pricing\"].includes(order.status) && /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              marginLeft: 16\n            },\n            onClick: () => setEditMode(true),\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Items\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        border: \"1\",\n        cellPadding: 4,\n        style: {\n          width: \"100%\",\n          marginBottom: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Requested Qty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Customer Notes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Admin Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Final Qty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Admin Notes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Total Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: items.map(item => {\n            var _item$product;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.product_name || ((_item$product = item.product) === null || _item$product === void 0 ? void 0 : _item$product.name)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.requested_quantity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.customer_notes\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.quoted_unit_price > 0 ? `${item.quoted_unit_price} (per unit)` : \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.final_quantity || \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.admin_notes || \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.final_quantity && item.quoted_unit_price ? (item.final_quantity * item.quoted_unit_price).toFixed(2) : \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 33\n              }, this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 29\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: \"1px solid #ccc\",\n        padding: 16,\n        marginBottom: 24\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Admin Reply\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Admin Comment:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }, this), \" \", order.admin_comment || \"-\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Quoted Total:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }, this), \" \", order.quoted_total > 0 ? order.quoted_total : \"-\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Pricing Date:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this), \" \", order.pricing_date ? new Date(order.pricing_date).toLocaleString() : \"-\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this), order.status === \"waiting_customer_approval\" && /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleApproval,\n        style: {\n          marginTop: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: \"decision\",\n            value: \"approve\",\n            checked: approvalDecision === \"approve\",\n            onChange: () => setApprovalDecision(\"approve\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 29\n          }, this), \"Accept Pre-Invoice\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            marginLeft: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: \"decision\",\n            value: \"reject\",\n            checked: approvalDecision === \"reject\",\n            onChange: () => setApprovalDecision(\"reject\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 29\n          }, this), \"Reject\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 25\n        }, this), approvalDecision === \"reject\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"Reason for rejection\",\n            value: rejectionReason,\n            onChange: e => setRejectionReason(e.target.value),\n            required: true,\n            style: {\n              width: \"100%\",\n              marginTop: 8\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading,\n          style: {\n            marginTop: 8\n          },\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 21\n      }, this), order.status === \"confirmed\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"green\",\n          marginTop: 16\n        },\n        children: \"Order confirmed. Final invoice will be generated.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 21\n      }, this), order.status === \"rejected\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"red\",\n          marginTop: 16\n        },\n        children: [\"Order rejected. Reason: \", order.customer_rejection_reason]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }, this), invoice && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: \"1px solid #ccc\",\n        padding: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: invoice.invoice_type === \"final_invoice\" ? \"Final Invoice\" : \"Pre-Invoice\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Invoice Number:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 25\n        }, this), \" \", invoice.invoice_number]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Total Amount:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 25\n        }, this), \" \", invoice.total_amount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Discount:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 25\n        }, this), \" \", invoice.discount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Tax Rate:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 25\n        }, this), \" \", invoice.tax_rate, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Tax Amount:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 25\n        }, this), \" \", invoice.tax_amount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Payable Amount:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 25\n        }, this), \" \", invoice.payable_amount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 21\n      }, this), invoice.pdf_file && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: invoice.pdf_file,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"Download PDF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n};\n_s(OrderDetailPage, \"d3H3ydLMnwOJgun2+I7/y/XyaUA=\");\n_c = OrderDetailPage;\nexport default OrderDetailPage;\nvar _c;\n$RefreshReg$(_c, \"OrderDetailPage\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","OrderDetailPage","orderId","onOrderUpdated","_s","_order$customer","order","setOrder","items","setItems","editMode","setEditMode","customerComment","setCustomerComment","approvalDecision","setApprovalDecision","rejectionReason","setRejectionReason","loading","setLoading","invoice","setInvoice","error","setError","get","then","res","data","customer_comment","catch","handleEditSubmit","e","preventDefault","patch","handleApproval","post","decision","rejection_reason","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","id","border","padding","marginBottom","customer_name","customer","name","Date","created_at","toLocaleString","status","onSubmit","value","onChange","target","rows","width","type","disabled","onClick","marginLeft","includes","cellPadding","map","item","_item$product","product_name","product","requested_quantity","customer_notes","quoted_unit_price","final_quantity","admin_notes","toFixed","admin_comment","quoted_total","pricing_date","marginTop","checked","placeholder","required","customer_rejection_reason","invoice_type","invoice_number","total_amount","discount","tax_rate","tax_amount","payable_amount","pdf_file","href","rel","_c","$RefreshReg$"],"sources":["/Users/parhamgolmohammadi/Sales/frontend/src/component/OrderDetailPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst OrderDetailPage = ({ orderId, onOrderUpdated }) => {\n    const [order, setOrder] = useState(null);\n    const [items, setItems] = useState([]);\n    const [editMode, setEditMode] = useState(false);\n    const [customerComment, setCustomerComment] = useState(\"\");\n    const [approvalDecision, setApprovalDecision] = useState(\"approve\");\n    const [rejectionReason, setRejectionReason] = useState(\"\");\n    const [loading, setLoading] = useState(true);\n    const [invoice, setInvoice] = useState(null);\n    const [error, setError] = useState(\"\");\n\n    // Fetch order details\n    useEffect(() => {\n        setLoading(true);\n        axios\n            .get(`/api/orders/${orderId}/`)\n            .then((res) => {\n                setOrder(res.data);\n                setCustomerComment(res.data.customer_comment || \"\");\n                setItems(res.data.items || []);\n                setInvoice(res.data.invoice || null);\n                setLoading(false);\n            })\n            .catch(() => {\n                setError(\"Failed to load order.\");\n                setLoading(false);\n            });\n    }, [orderId]);\n\n    // Edit customer comment\n    const handleEditSubmit = (e) => {\n        e.preventDefault();\n        setLoading(true);\n        axios\n            .patch(`/api/orders/${orderId}/`, { customer_comment: customerComment })\n            .then((res) => {\n                setOrder(res.data);\n                setEditMode(false);\n                setLoading(false);\n                if (onOrderUpdated) onOrderUpdated();\n            })\n            .catch(() => {\n                setError(\"Failed to update comment.\");\n                setLoading(false);\n            });\n    };\n\n    // Approve/reject pricing\n    const handleApproval = (e) => {\n        e.preventDefault();\n        setLoading(true);\n        axios\n            .post(`/api/orders/${orderId}/customer_approval/`, {\n                decision: approvalDecision,\n                rejection_reason: rejectionReason,\n            })\n            .then((res) => {\n                setOrder(res.data);\n                setLoading(false);\n                if (onOrderUpdated) onOrderUpdated();\n            })\n            .catch(() => {\n                setError(\"Failed to submit response.\");\n                setLoading(false);\n            });\n    };\n\n    if (loading) return <div>Loading...</div>;\n    if (error) return <div style={{ color: \"red\" }}>{error}</div>;\n    if (!order) return <div>Order not found.</div>;\n\n    return (\n        <div>\n            <h2>Order #{order.id}</h2>\n            <div style={{ border: \"1px solid #ccc\", padding: 16, marginBottom: 24 }}>\n                <h3>Your Order</h3>\n                <div>\n                    <strong>Customer:</strong> {order.customer_name || order.customer?.name}\n                </div>\n                <div>\n                    <strong>Created:</strong> {new Date(order.created_at).toLocaleString()}\n                </div>\n                <div>\n                    <strong>Status:</strong> {order.status}\n                </div>\n                <div>\n                    <strong>Comment:</strong>\n                    {editMode ? (\n                        <form onSubmit={handleEditSubmit}>\n                            <textarea\n                                value={customerComment}\n                                onChange={(e) => setCustomerComment(e.target.value)}\n                                rows={3}\n                                style={{ width: \"100%\" }}\n                            />\n                            <button type=\"submit\" disabled={loading}>Save</button>\n                            <button type=\"button\" onClick={() => setEditMode(false)}>Cancel</button>\n                        </form>\n                    ) : (\n                        <>\n                            <span style={{ marginLeft: 8 }}>{order.customer_comment}</span>\n                            {[\"pending_pricing\"].includes(order.status) && (\n                                <button style={{ marginLeft: 16 }} onClick={() => setEditMode(true)}>\n                                    Edit\n                                </button>\n                            )}\n                        </>\n                    )}\n                </div>\n                <h4>Items</h4>\n                <table border=\"1\" cellPadding={4} style={{ width: \"100%\", marginBottom: 8 }}>\n                    <thead>\n                        <tr>\n                            <th>Product</th>\n                            <th>Requested Qty</th>\n                            <th>Customer Notes</th>\n                            <th>Admin Price</th>\n                            <th>Final Qty</th>\n                            <th>Admin Notes</th>\n                            <th>Total Price</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {items.map((item) => (\n                            <tr key={item.id}>\n                                <td>{item.product_name || item.product?.name}</td>\n                                <td>{item.requested_quantity}</td>\n                                <td>{item.customer_notes}</td>\n                                <td>\n                                    {item.quoted_unit_price > 0\n                                        ? `${item.quoted_unit_price} (per unit)`\n                                        : \"-\"}\n                                </td>\n                                <td>{item.final_quantity || \"-\"}</td>\n                                <td>{item.admin_notes || \"-\"}</td>\n                                <td>\n                                    {item.final_quantity && item.quoted_unit_price\n                                        ? (item.final_quantity * item.quoted_unit_price).toFixed(2)\n                                        : \"-\"}\n                                </td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n\n            {/* Admin reply and approval */}\n            <div style={{ border: \"1px solid #ccc\", padding: 16, marginBottom: 24 }}>\n                <h3>Admin Reply</h3>\n                <div>\n                    <strong>Admin Comment:</strong> {order.admin_comment || \"-\"}\n                </div>\n                <div>\n                    <strong>Quoted Total:</strong>{\" \"}\n                    {order.quoted_total > 0 ? order.quoted_total : \"-\"}\n                </div>\n                <div>\n                    <strong>Pricing Date:</strong>{\" \"}\n                    {order.pricing_date\n                        ? new Date(order.pricing_date).toLocaleString()\n                        : \"-\"}\n                </div>\n                {/* Approval form */}\n                {order.status === \"waiting_customer_approval\" && (\n                    <form onSubmit={handleApproval} style={{ marginTop: 16 }}>\n                        <label>\n                            <input\n                                type=\"radio\"\n                                name=\"decision\"\n                                value=\"approve\"\n                                checked={approvalDecision === \"approve\"}\n                                onChange={() => setApprovalDecision(\"approve\")}\n                            />\n                            Accept Pre-Invoice\n                        </label>\n                        <label style={{ marginLeft: 16 }}>\n                            <input\n                                type=\"radio\"\n                                name=\"decision\"\n                                value=\"reject\"\n                                checked={approvalDecision === \"reject\"}\n                                onChange={() => setApprovalDecision(\"reject\")}\n                            />\n                            Reject\n                        </label>\n                        {approvalDecision === \"reject\" && (\n                            <div>\n                                <textarea\n                                    placeholder=\"Reason for rejection\"\n                                    value={rejectionReason}\n                                    onChange={(e) => setRejectionReason(e.target.value)}\n                                    required\n                                    style={{ width: \"100%\", marginTop: 8 }}\n                                />\n                            </div>\n                        )}\n                        <button type=\"submit\" disabled={loading} style={{ marginTop: 8 }}>\n                            Submit\n                        </button>\n                    </form>\n                )}\n                {order.status === \"confirmed\" && (\n                    <div style={{ color: \"green\", marginTop: 16 }}>\n                        Order confirmed. Final invoice will be generated.\n                    </div>\n                )}\n                {order.status === \"rejected\" && (\n                    <div style={{ color: \"red\", marginTop: 16 }}>\n                        Order rejected. Reason: {order.customer_rejection_reason}\n                    </div>\n                )}\n            </div>\n\n            {/* Invoice section */}\n            {invoice && (\n                <div style={{ border: \"1px solid #ccc\", padding: 16 }}>\n                    <h3>\n                        {invoice.invoice_type === \"final_invoice\"\n                            ? \"Final Invoice\"\n                            : \"Pre-Invoice\"}\n                    </h3>\n                    <div>\n                        <strong>Invoice Number:</strong> {invoice.invoice_number}\n                    </div>\n                    <div>\n                        <strong>Total Amount:</strong> {invoice.total_amount}\n                    </div>\n                    <div>\n                        <strong>Discount:</strong> {invoice.discount}\n                    </div>\n                    <div>\n                        <strong>Tax Rate:</strong> {invoice.tax_rate}%\n                    </div>\n                    <div>\n                        <strong>Tax Amount:</strong> {invoice.tax_amount}\n                    </div>\n                    <div>\n                        <strong>Payable Amount:</strong> {invoice.payable_amount}\n                    </div>\n                    {invoice.pdf_file && (\n                        <div>\n                            <a href={invoice.pdf_file} target=\"_blank\" rel=\"noopener noreferrer\">\n                                Download PDF\n                            </a>\n                        </div>\n                    )}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default OrderDetailPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}